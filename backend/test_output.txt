WSManager: создан новый экземпл€р
WSManager: создан глобальный экземпл€р 2549756603600
DEBUG: deps.py successfully imported settings. SECRET_KEY starts with: tDtx7
============================= test session starts =============================
platform win32 -- Python 3.11.1, pytest-8.4.1, pluggy-1.6.0 -- C:\Program Files\Python311\python.exe
cachedir: .pytest_cache
rootdir: C:\final\backend
configfile: pytest.ini
plugins: anyio-4.10.0, asyncio-1.1.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 1 item

tests/integration/test_online_queue_scenarios.py::TestOnlineQueueScenarios::test_scenario_2_existing_qr_entries_preserved FAILED

================================== FAILURES ===================================
___ TestOnlineQueueScenarios.test_scenario_2_existing_qr_entries_preserved ____

self = <test_online_queue_scenarios.TestOnlineQueueScenarios object at 0x00000251CFA6D250>
db_session = <sqlalchemy.orm.session.Session object at 0x00000251CF2CC110>
test_patient = <app.models.patient.Patient object at 0x00000251CFA5E310>
test_specialists_multi = {'cardio': <app.models.user.User object at 0x00000251D11E5610>, 'derma': <app.models.user.User object at 0x00000251D137F810>, 'lab': <app.models.user.User object at 0x00000251D0F00750>}
test_services_multi = {'cardio_cons': <app.models.service.Service object at 0x00000251D1392950>, 'derma_cons': <app.models.service.Service o...ls.service.Service object at 0x00000251CFCB0CD0>, 'lab_cbc': <app.models.service.Service object at 0x00000251D1393B90>}

    def test_scenario_2_existing_qr_entries_preserved(
        self,
        db_session: Session,
        test_patient: Patient,
        test_specialists_multi: dict,
        test_services_multi: dict
    ):
        """
        —ценарий 2: ќткрытие клиники - 09:00
    
        Arrange:
        - QR-записи созданы в 07:30 (из сценари€ 1)
        - ¬рем€: 09:00 (открытие клиники)
    
        Act:
        - ”станавливаем opened_at дл€ очереди
    
        Assert:
        - \u2705 opened_at \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d
        - \u2705 QR-\u0437\u0430\u043f\u0438\u0441\u0438 (07:30) \u041d\u0415 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0438\u0441\u044c \u043f\u043e\u0441\u043b\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f
        """
        # Arrange: —оздаем QR-записи в 07:30
        timezone = ZoneInfo("Asia/Tashkent")
        qr_time = datetime(2025, 1, 15, 7, 30, 0, tzinfo=timezone)
        opening_time = datetime(2025, 1, 15, 9, 0, 0, tzinfo=timezone)
    
        cardio = test_specialists_multi["cardio"]
        cardio_cons = test_services_multi["cardio_cons"]
    
        queue = DailyQueue(
            day=qr_time.date(),
            specialist_id=cardio.id,
            queue_tag="cardiology_common",
            active=True
        )
        db_session.add(queue)
        db_session.commit()
        db_session.refresh(queue)
    
        entry = queue_service.create_queue_entry(
            db=db_session,
            patient_id=test_patient.id,
            patient_name=test_patient.short_name(),
            phone=test_patient.phone,
            queue_id=queue.id,
            source="online",
            queue_time=qr_time,
            services=[{"code": cardio_cons.code, "name": cardio_cons.name, "price": float(cardio_cons.price)}]
        )
        db_session.commit()
        db_session.refresh(entry)
    
        # —охран€ем оригинальные значени€
        original_queue_time = entry.queue_time
        original_number = entry.number
        original_source = entry.source
    
        # Act: ќткрываем клинику (устанавливаем opened_at)
        queue.opened_at = opening_time
        db_session.commit()
        db_session.refresh(queue)
        db_session.refresh(entry)
    
        # Assert
>       assert queue.opened_at == opening_time, "opened_at должен быть установлен на 09:00"
E       AssertionError: opened_at должен быть установлен на 09:00
E       assert datetime.datetime(2025, 1, 15, 9, 0) == datetime.datetime(2025, 1, 15, 9, 0, tzinfo=zoneinfo.ZoneInfo(key='Asia/Tashkent'))
E        +  where datetime.datetime(2025, 1, 15, 9, 0) = <app.models.online_queue.DailyQueue object at 0x00000251D13A9DD0>.opened_at

tests\integration\test_online_queue_scenarios.py:358: AssertionError
============================== warnings summary ===============================
app\core\config.py:46
  C:\final\backend\app\core\config.py:46: PydanticDeprecatedSince20: Using extra keyword arguments on `Field` is deprecated and will be removed. Use `json_schema_extra` instead. (Extra keys: 'env'). Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    FRONTEND_URL: str = Field(default="http://192.168.1.9:5173", env="FRONTEND_URL")

app\schemas\emr_version.py:34
  C:\final\backend\app\schemas\emr_version.py:34: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class EMRVersionOut(EMRVersionBase):

app\schemas\lab.py:36
  C:\final\backend\app\schemas\lab.py:36: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class LabResultOut(LabResultBase):

app\schemas\lab.py:64
  C:\final\backend\app\schemas\lab.py:64: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class LabOrderOut(LabOrderBase):

app\schemas\clinic.py:113
  C:\final\backend\app\schemas\clinic.py:113: PydanticDeprecatedSince20: `max_items` is deprecated and will be removed, use `max_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    schedules: List[ScheduleBase] = Field(..., max_items=7)

app\api\v1\endpoints\feature_flags.py:18
  C:\final\backend\app\api\v1\endpoints\feature_flags.py:18: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FeatureFlagResponse(BaseModel):

app\api\v1\endpoints\feature_flags.py:65
  C:\final\backend\app\api\v1\endpoints\feature_flags.py:65: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FeatureFlagHistoryResponse(BaseModel):

app\schemas\notification.py:32
  C:\final\backend\app\schemas\notification.py:32: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class NotificationTemplate(NotificationTemplateBase):

app\schemas\notification.py:68
  C:\final\backend\app\schemas\notification.py:68: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class NotificationHistory(NotificationHistoryBase):

app\schemas\notification.py:121
  C:\final\backend\app\schemas\notification.py:121: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class NotificationSettings(NotificationSettingsBase):

app\api\v1\endpoints\dynamic_pricing.py:37
  C:\final\backend\app\api\v1\endpoints\dynamic_pricing.py:37: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    service_ids: List[int] = Field(..., min_items=1)

app\api\v1\endpoints\dynamic_pricing.py:60
  C:\final\backend\app\api\v1\endpoints\dynamic_pricing.py:60: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    service_ids: List[int] = Field(..., min_items=2)

app\api\v1\endpoints\dynamic_pricing.py:80
  C:\final\backend\app\api\v1\endpoints\dynamic_pricing.py:80: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    services: List[Dict[str, Any]] = Field(..., min_items=1)

app\api\v1\endpoints\dynamic_pricing.py:92
  C:\final\backend\app\api\v1\endpoints\dynamic_pricing.py:92: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class PricingRuleResponse(BaseModel):

app\api\v1\endpoints\dynamic_pricing.py:117
  C:\final\backend\app\api\v1\endpoints\dynamic_pricing.py:117: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ServicePackageResponse(BaseModel):

app\api\v1\endpoints\billing.py:35
  C:\final\backend\app\api\v1\endpoints\billing.py:35: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    items: List[InvoiceItemCreate] = Field(..., min_items=1)

app\api\v1\endpoints\billing.py:115
  C:\final\backend\app\api\v1\endpoints\billing.py:115: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class InvoiceResponse(BaseModel):

app\api\v1\endpoints\billing.py:143
  C:\final\backend\app\api\v1\endpoints\billing.py:143: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class PaymentResponse(BaseModel):

app\schemas\two_factor_auth.py:33
  C:\final\backend\app\schemas\two_factor_auth.py:33: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TwoFactorAuthOut(TwoFactorAuthBase):

app\schemas\two_factor_auth.py:61
  C:\final\backend\app\schemas\two_factor_auth.py:61: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TwoFactorBackupCodeOut(TwoFactorBackupCodeBase):

app\schemas\two_factor_auth.py:94
  C:\final\backend\app\schemas\two_factor_auth.py:94: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TwoFactorRecoveryOut(TwoFactorRecoveryBase):

app\schemas\two_factor_auth.py:128
  C:\final\backend\app\schemas\two_factor_auth.py:128: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TwoFactorSessionOut(TwoFactorSessionBase):

app\schemas\two_factor_auth.py:161
  C:\final\backend\app\schemas\two_factor_auth.py:161: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TwoFactorDeviceOut(TwoFactorDeviceBase):

app\schemas\authentication.py:81
  C:\final\backend\app\schemas\authentication.py:81: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('new_password')

app\schemas\authentication.py:101
  C:\final\backend\app\schemas\authentication.py:101: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('new_password')

app\schemas\authentication.py:303
  C:\final\backend\app\schemas\authentication.py:303: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('password')

app\api\v1\endpoints\phone_verification.py:27
  C:\final\backend\app\api\v1\endpoints\phone_verification.py:27: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('phone')

app\api\v1\endpoints\phone_verification.py:38
  C:\final\backend\app\api\v1\endpoints\phone_verification.py:38: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('purpose')

app\api\v1\endpoints\phone_verification.py:52
  C:\final\backend\app\api\v1\endpoints\phone_verification.py:52: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('phone')

app\api\v1\endpoints\phone_verification.py:59
  C:\final\backend\app\api\v1\endpoints\phone_verification.py:59: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('code')

app\api\v1\endpoints\phone_verification.py:71
  C:\final\backend\app\api\v1\endpoints\phone_verification.py:71: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('new_phone')

app\api\v1\endpoints\phone_verification.py:78
  C:\final\backend\app\api\v1\endpoints\phone_verification.py:78: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('verification_code')

app\api\v1\endpoints\password_reset.py:24
  C:\final\backend\app\api\v1\endpoints\password_reset.py:24: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('phone')

app\api\v1\endpoints\password_reset.py:33
  C:\final\backend\app\api\v1\endpoints\password_reset.py:33: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('email')

app\api\v1\endpoints\password_reset.py:41
  C:\final\backend\app\api\v1\endpoints\password_reset.py:41: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('email', always=True)

app\api\v1\endpoints\password_reset.py:55
  C:\final\backend\app\api\v1\endpoints\password_reset.py:55: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('phone')

app\api\v1\endpoints\password_reset.py:62
  C:\final\backend\app\api\v1\endpoints\password_reset.py:62: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('verification_code')

app\api\v1\endpoints\password_reset.py:74
  C:\final\backend\app\api\v1\endpoints\password_reset.py:74: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('new_password')

app\api\v1\endpoints\queue_reorder.py:26
  C:\final\backend\app\api\v1\endpoints\queue_reorder.py:26: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('entry_orders')

app\api\v1\endpoints\queue_reorder.py:56
  C:\final\backend\app\api\v1\endpoints\queue_reorder.py:56: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('new_position')

app\schemas\file_system.py:75
  C:\final\backend\app\schemas\file_system.py:75: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileOut(FileBase):

app\schemas\file_system.py:111
  C:\final\backend\app\schemas\file_system.py:111: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileVersionOut(FileVersionBase):

app\schemas\file_system.py:143
  C:\final\backend\app\schemas\file_system.py:143: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileShareOut(FileShareBase):

app\schemas\file_system.py:173
  C:\final\backend\app\schemas\file_system.py:173: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileFolderOut(FileFolderBase):

app\schemas\file_system.py:265
  C:\final\backend\app\schemas\file_system.py:265: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileQuotaOut(FileQuotaBase):

app\schemas\file_system.py:299
  C:\final\backend\app\schemas\file_system.py:299: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class FileStorageOut(FileStorageBase):

app\schemas\file_system.py:353
  C:\final\backend\app\schemas\file_system.py:353: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('tags')

app\schemas\file_system.py:364
  C:\final\backend\app\schemas\file_system.py:364: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('shared_with_email')

app\schemas\user_management.py:127
  C:\final\backend\app\schemas\user_management.py:127: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    working_days: Optional[List[int]] = Field(None, min_items=1, max_items=7)

app\schemas\user_management.py:127
  C:\final\backend\app\schemas\user_management.py:127: PydanticDeprecatedSince20: `max_items` is deprecated and will be removed, use `max_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    working_days: Optional[List[int]] = Field(None, min_items=1, max_items=7)

app\schemas\user_management.py:381
  C:\final\backend\app\schemas\user_management.py:381: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('password')

app\schemas\user_management.py:478
  C:\final\backend\app\schemas\user_management.py:478: PydanticDeprecatedSince20: `min_items` is deprecated and will be removed, use `min_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    user_ids: List[int] = Field(..., min_items=1, max_items=100)

app\schemas\user_management.py:478
  C:\final\backend\app\schemas\user_management.py:478: PydanticDeprecatedSince20: `max_items` is deprecated and will be removed, use `max_length` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    user_ids: List[int] = Field(..., min_items=1, max_items=100)

app\schemas\print_config.py:42
  C:\final\backend\app\schemas\print_config.py:42: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class PrinterConfigOut(PrinterConfigBase):

app\schemas\print_config.py:79
  C:\final\backend\app\schemas\print_config.py:79: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class PrintTemplateOut(PrintTemplateBase):

app\schemas\print_config.py:107
  C:\final\backend\app\schemas\print_config.py:107: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class PrintJobOut(PrintJobBase):

app\api\v1\endpoints\services.py:19
  C:\final\backend\app\api\v1\endpoints\services.py:19: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ServiceCategoryOut(BaseModel):

app\api\v1\endpoints\services.py:50
  C:\final\backend\app\api\v1\endpoints\services.py:50: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ServiceOut(BaseModel):

app\api\v1\endpoints\services.py:371
  C:\final\backend\app\api\v1\endpoints\services.py:371: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class DoctorOut(BaseModel):

app\api\v1\endpoints\services.py:392
  C:\final\backend\app\api\v1\endpoints\services.py:392: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ServiceResolveResponse(BaseModel):

app\schemas\webhook.py:88
  C:\final\backend\app\schemas\webhook.py:88: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('events')

app\schemas\webhook.py:94
  C:\final\backend\app\schemas\webhook.py:94: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('max_retries')

app\schemas\webhook.py:100
  C:\final\backend\app\schemas\webhook.py:100: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('retry_delay')

app\schemas\webhook.py:106
  C:\final\backend\app\schemas\webhook.py:106: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('timeout')

app\schemas\webhook.py:134
  C:\final\backend\app\schemas\webhook.py:134: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class WebhookInDB(WebhookBase):

app\schemas\webhook.py:183
  C:\final\backend\app\schemas\webhook.py:183: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class WebhookCallInDB(WebhookCallBase):

app\schemas\webhook.py:225
  C:\final\backend\app\schemas\webhook.py:225: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class WebhookEventInDB(WebhookEventBase):

app\schemas\webhook.py:339
  C:\final\backend\app\schemas\webhook.py:339: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('action')

app\graphql\schema.py:17
  C:\final\backend\app\graphql\schema.py:17: DeprecationWarning: The `graphiql` argument is deprecated in favor of `graphql_ide`
    graphql_router = GraphQLRouter(

app\main.py:132
  C:\final\backend\app\main.py:132: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

..\..\Program Files\Python311\Lib\site-packages\fastapi\applications.py:4495
  C:\Program Files\Python311\Lib\site-packages\fastapi\applications.py:4495: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/integration/test_online_queue_scenarios.py::TestOnlineQueueScenarios::test_scenario_2_existing_qr_entries_preserved
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!
======================= 1 failed, 71 warnings in 1.34s ========================
