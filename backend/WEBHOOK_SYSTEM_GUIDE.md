# –°–∏—Å—Ç–µ–º–∞ Webhook'–æ–≤ - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ webhook'–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–Ω–∏–∫—É —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ —á–µ—Ä–µ–∑ HTTP callbacks. –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ (—Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤–∏–∑–∏—Ç–∞, –ø–ª–∞—Ç–µ–∂ –∏ —Ç.–¥.), webhook'–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–µ URL.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Webhook'–∞–º–∏
- **–°–æ–∑–¥–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** webhook'–æ–≤ —Å –≥–∏–±–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- **–ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è** webhook'–æ–≤
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π** –ø–æ —Ç–∏–ø—É –∏ —É—Å–ª–æ–≤–∏—è–º
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ HMAC –ø–æ–¥–ø–∏—Å–∏

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–∑–æ–≤–æ–≤** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫** —Å –¥–µ—Ç–∞–ª—è–º–∏ –æ—Ç–≤–µ—Ç–æ–≤
- **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** –∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**

### üîÑ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã** –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö
- **–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞** –º–µ–∂–¥—É –ø–æ–≤—Ç–æ—Ä–∞–º–∏
- **–¢–∞–π–º–∞—É—Ç—ã –∏ –ª–∏–º–∏—Ç—ã** –¥–ª—è –∑–∞—â–∏—Ç—ã —Å–∏—Å—Ç–µ–º—ã
- **–û—á–µ—Ä–µ–¥—å —Å–æ–±—ã—Ç–∏–π** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ñ–æ–Ω–µ

## –¢–∏–ø—ã –°–æ–±—ã—Ç–∏–π

### –ü–∞—Ü–∏–µ–Ω—Ç—ã
- `patient.created` - –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –ø–∞—Ü–∏–µ–Ω—Ç
- `patient.updated` - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ü–∏–µ–Ω—Ç–µ
- `patient.deleted` - –ü–∞—Ü–∏–µ–Ω—Ç —É–¥–∞–ª–µ–Ω

### –ó–∞–ø–∏—Å–∏ –∏ –í–∏–∑–∏—Ç—ã
- `appointment.created` - –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å
- `appointment.updated` - –ó–∞–ø–∏—Å—å –∏–∑–º–µ–Ω–µ–Ω–∞
- `appointment.cancelled` - –ó–∞–ø–∏—Å—å –æ—Ç–º–µ–Ω–µ–Ω–∞
- `appointment.completed` - –ó–∞–ø–∏—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- `visit.created` - –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –≤–∏–∑–∏—Ç
- `visit.updated` - –í–∏–∑–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω
- `visit.completed` - –í–∏–∑–∏—Ç –∑–∞–≤–µ—Ä—à–µ–Ω

### –û—á–µ—Ä–µ–¥–∏
- `queue.entry_created` - –ü–∞—Ü–∏–µ–Ω—Ç –≤—Å—Ç–∞–ª –≤ –æ—á–µ—Ä–µ–¥—å
- `queue.entry_updated` - –°—Ç–∞—Ç—É—Å –≤ –æ—á–µ—Ä–µ–¥–∏ –∏–∑–º–µ–Ω–µ–Ω
- `queue.entry_called` - –ü–∞—Ü–∏–µ–Ω—Ç –≤—ã–∑–≤–∞–Ω
- `queue.entry_completed` - –ü—Ä–∏–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω

### –ü–ª–∞—Ç–µ–∂–∏
- `payment.created` - –°–æ–∑–¥–∞–Ω –ø–ª–∞—Ç–µ–∂
- `payment.completed` - –ü–ª–∞—Ç–µ–∂ –∑–∞–≤–µ—Ä—à–µ–Ω
- `payment.failed` - –ü–ª–∞—Ç–µ–∂ –Ω–µ –ø—Ä–æ—à–µ–ª
- `payment.refunded` - –ü–ª–∞—Ç–µ–∂ –≤–æ–∑–≤—Ä–∞—â–µ–Ω

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `user.created` - –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `user.updated` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω
- `user.deleted` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–µ–Ω

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –°–æ–±—ã—Ç–∏—è
- `system.backup_completed` - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
- `system.backup_failed` - –û—à–∏–±–∫–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- `system.maintenance_start` - –ù–∞—á–∞–ª–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- `system.maintenance_end` - –ö–æ–Ω–µ—Ü —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è

## API Endpoints

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Webhook'–∞–º–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ Webhook'–∞
```http
POST /api/v1/webhooks/
Content-Type: application/json
Authorization: Bearer <token>

{
  "name": "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM",
  "description": "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ø–∞—Ü–∏–µ–Ω—Ç–∞—Ö –≤ CRM —Å–∏—Å—Ç–µ–º—É",
  "url": "https://crm.example.com/webhooks/patients",
  "events": ["patient.created", "patient.updated"],
  "headers": {
    "X-API-Key": "your-api-key"
  },
  "secret": "webhook-secret-key",
  "max_retries": 3,
  "retry_delay": 60,
  "timeout": 30,
  "filters": {
    "department": "cardiology"
  }
}
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –°–ø–∏—Å–∫–∞ Webhook'–æ–≤
```http
GET /api/v1/webhooks/?status=active&limit=50
Authorization: Bearer <token>
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Webhook'–∞
```http
PUT /api/v1/webhooks/{webhook_id}
Content-Type: application/json
Authorization: Bearer <token>

{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "is_active": true
}
```

#### –ê–∫—Ç–∏–≤–∞—Ü–∏—è/–î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
```http
POST /api/v1/webhooks/{webhook_id}/activate
Authorization: Bearer <token>

POST /api/v1/webhooks/{webhook_id}/deactivate
Authorization: Bearer <token>
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Webhook'–∞
```http
POST /api/v1/webhooks/{webhook_id}/test
Content-Type: application/json
Authorization: Bearer <token>

{
  "webhook_id": 1,
  "event_type": "patient.created",
  "test_data": {
    "patient_id": 123,
    "name": "–¢–µ—Å—Ç–æ–≤—ã–π –ü–∞—Ü–∏–µ–Ω—Ç"
  }
}
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Webhook'–∞
```http
GET /api/v1/webhooks/{webhook_id}/stats
Authorization: Bearer <token>
```

#### –°–∏—Å—Ç–µ–º–Ω–∞—è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```http
GET /api/v1/webhooks/system/stats
Authorization: Bearer <token>
```

#### –í—ã–∑–æ–≤—ã Webhook'–∞
```http
GET /api/v1/webhooks/{webhook_id}/calls?limit=100
Authorization: Bearer <token>
```

### –°–æ–±—ã—Ç–∏—è

#### –†—É—á–Ω–æ–π –¢—Ä–∏–≥–≥–µ—Ä –°–æ–±—ã—Ç–∏—è
```http
POST /api/v1/webhooks/events/trigger
Content-Type: application/json
Authorization: Bearer <token>

{
  "event_type": "patient.created",
  "event_data": {
    "patient_id": 123,
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "phone": "+7900123456"
  },
  "source": "manual",
  "correlation_id": "manual-trigger-001"
}
```

## –§–æ—Ä–º–∞—Ç Webhook Payload

–ö–∞–∂–¥—ã–π webhook –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON payload:

```json
{
  "event_type": "patient.created",
  "event_data": {
    "patient_id": 123,
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "phone": "+7900123456",
    "email": "ivan@example.com",
    "created_at": "2024-01-15T10:30:00Z"
  },
  "webhook_id": "550e8400-e29b-41d4-a716-446655440000",
  "timestamp": "2024-01-15T10:30:05Z",
  "attempt": 1
}
```

### –ó–∞–≥–æ–ª–æ–≤–∫–∏

–ö–∞–∂–¥—ã–π webhook –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

```http
Content-Type: application/json
User-Agent: MediLab-Webhook/1.0
X-Webhook-Event: patient.created
X-Webhook-ID: 550e8400-e29b-41d4-a716-446655440000
X-Webhook-Attempt: 1
X-Webhook-Signature: sha256=abc123... (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω secret)
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### HMAC –ü–æ–¥–ø–∏—Å—å

–ï—Å–ª–∏ –¥–ª—è webhook'–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `secret`, –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è HMAC-SHA256:

```python
import hmac
import hashlib

def verify_signature(payload, signature, secret):
    expected = hmac.new(
        secret.encode('utf-8'),
        payload.encode('utf-8'),
        hashlib.sha256
    ).hexdigest()
    
    return signature == f"sha256={expected}"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –°—Ç–æ—Ä–æ–Ω–µ –ü–æ–ª—É—á–∞—Ç–µ–ª—è

```javascript
const crypto = require('crypto');

function verifyWebhook(payload, signature, secret) {
    const expectedSignature = crypto
        .createHmac('sha256', secret)
        .update(payload)
        .digest('hex');
    
    return signature === `sha256=${expectedSignature}`;
}
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫ –∏ –ü–æ–≤—Ç–æ—Ä—ã

### –õ–æ–≥–∏–∫–∞ –ü–æ–≤—Ç–æ—Ä–æ–≤

1. **–ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞** - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
2. **–ü–æ–≤—Ç–æ—Ä—ã** - —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60 —Å–µ–∫—É–Ω–¥)
3. **–ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
4. **–°—Ç–∞—Ç—É—Å—ã —É—Å–ø–µ—Ö–∞** - HTTP 200-299
5. **–°—Ç–∞—Ç—É—Å—ã –æ—à–∏–±–æ–∫** - HTTP 400+ –∏–ª–∏ —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏

### –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ó–∞–¥–µ—Ä–∂–∫–∞

```
–ü–æ–ø—ã—Ç–∫–∞ 1: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
–ü–æ–ø—ã—Ç–∫–∞ 2: —á–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥
–ü–æ–ø—ã—Ç–∫–∞ 3: —á–µ—Ä–µ–∑ 120 —Å–µ–∫—É–Ω–¥
–ü–æ–ø—ã—Ç–∫–∞ 4: —á–µ—Ä–µ–∑ 240 —Å–µ–∫—É–Ω–¥
```

## –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –°–æ–±—ã—Ç–∏–π

Webhook'–∏ –º–æ–≥—É—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º:

```json
{
  "filters": {
    "department": "cardiology",
    "patient_type": "new",
    "amount_min": 1000
  }
}
```

–°–æ–±—ã—Ç–∏–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Å–µ —É—Å–ª–æ–≤–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

## –õ–∏–º–∏—Ç—ã –∏ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–ú–∞–∫—Å–∏–º—É–º –ø–æ–≤—Ç–æ—Ä–æ–≤**: 10
- **–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞**: 300 —Å–µ–∫—É–Ω–¥
- **–†–∞–∑–º–µ—Ä payload**: 10MB
- **–†–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**: 10KB (–¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ webhook'–æ–≤**: –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- **–ß–∞—Å—Ç–æ—Ç–∞ –≤—ã–∑–æ–≤–æ–≤**: –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ê–ª–µ—Ä—Ç—ã

### –ú–µ—Ç—Ä–∏–∫–∏

- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤
- –£—Å–ø–µ—à–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- –ù–µ—É–¥–∞—á–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ê–ª–µ—Ä—Ç—ã

- Webhook –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω –±–æ–ª–µ–µ 24 —á–∞—Å–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –Ω–∏–∂–µ 90%
- –ë–æ–ª–µ–µ 10 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–¥—Ä—è–¥
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞

## –ü—Ä–∏–º–µ—Ä—ã –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

### 1. CRM –°–∏—Å—Ç–µ–º–∞

```json
{
  "name": "CRM Integration",
  "url": "https://crm.company.com/api/webhooks/patients",
  "events": ["patient.created", "patient.updated"],
  "headers": {
    "Authorization": "Bearer crm-api-token"
  }
}
```

### 2. –°–∏—Å—Ç–µ–º–∞ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```json
{
  "name": "SMS Notifications",
  "url": "https://sms.provider.com/webhooks/appointments",
  "events": ["appointment.created", "appointment.cancelled"],
  "filters": {
    "notification_enabled": true
  }
}
```

### 3. –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –°–∏—Å—Ç–µ–º–∞

```json
{
  "name": "Analytics Dashboard",
  "url": "https://analytics.company.com/api/events",
  "events": ["visit.completed", "payment.completed"],
  "headers": {
    "X-Analytics-Key": "analytics-key"
  }
}
```

## –û—Ç–ª–∞–¥–∫–∞ –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ –°–æ–±—ã—Ç–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ webhook'–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

```bash
curl -X POST "http://localhost:8000/api/v1/webhooks/1/test" \
  -H "Authorization: Bearer your-token" \
  -H "Content-Type: application/json" \
  -d '{
    "webhook_id": 1,
    "event_type": "patient.created",
    "test_data": {"test": true}
  }'
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –≤—ã–∑–æ–≤—ã webhook'–æ–≤ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏:
- URL –∏ –º–µ—Ç–æ–¥
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
- Payload
- –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –û—à–∏–±–∫–∏

### Webhook.site –¥–ª—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ https://webhook.site –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ URL –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Ö–æ–¥—è—â–∏—Ö webhook'–æ–≤.

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –û–±—Ä–∞–±–æ—Ç–∫–∞

–í—Å–µ webhook'–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ñ–æ–Ω–µ, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã.

### –ë–∞—Ç—á–∏–Ω–≥

–î–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö –±–∞—Ç—á–∞–º–∏.

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ webhook'–æ–≤ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

## –ú–∏–≥—Ä–∞—Ü–∏—è –∏ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

Webhook payload –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

### Graceful Shutdown

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ webhook'–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ —Å–∏—Å—Ç–µ–º–µ webhook'–æ–≤:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã–∑–æ–≤–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ webhook'–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –º–µ—Ç—Ä–∏–∫–∏
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API

---

*–°–∏—Å—Ç–µ–º–∞ webhook'–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–æ—â–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.*

