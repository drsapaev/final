# Специфичные правила медицинской клиники

## Система темизации

- Всегда используйте централизованную систему темизации через хук useTheme() - никогда не используйте прямые импорты designTokens
- Используйте функции getColor(), getSpacing(), getFontSize(), getShadow() для консистентного стилизования

## Безопасность и соответствие

- Все операции с базой данных должны включать правильное аудит-логирование для медицинского соответствия
- Обработка данных пациентов требует явных проверок разрешений и опций анонимизации данных
- Для медицинских рабочих процессов (записи, EMR, рецепты) следуйте установленным паттернам в существующих эндпоинтах

## Техническая инфраструктура

- Сервер бэкенда должен всегда запускаться из директории C:\final\backend с использованием uvicorn
- Поддержка русского языка является основной - обеспечивайте, чтобы весь пользовательский текст поддерживал локализацию
- Поддерживайте обратную совместимость с существующими API эндпоинтами при внесении изменений

## Медицинские данные

- Все операции с медицинскими данными должны быть транзакционными и включать механизмы отката
- Используйте существующие паттерны аутентификации (на основе ролей: admin, doctor, registrar, lab, cashier, etc.)
- WebSocket соединения для обновлений в реальном времени должны следовать установленным паттернам в backend/app/ws/

## Интеграции

- Интеграция платежей использует провайдера PayMe - соблюдайте существующие паттерны webhook
- Загрузка файлов (медицинские документы, изображения) должна включать сканирование на вирусы и валидацию формата
- Миграции базы данных должны быть тщательно протестированы и включать скрипты отката

## Тестирование

- Всегда тестируйте сценарии с несколькими пользователями - системы клиник имеют паттерны одновременного доступа пользователей

## Медицинские проверки безопасности

### Конфиденциальность данных
- **Всегда проверяйте соответствие GDPR/HIPAA** для медицинских данных
- **Валидируйте анонимизацию** персональных данных пациентов
- **Проверяйте аудит-логирование** всех операций с медицинскими записями

### Целостность медицинских данных
- **Проверяйте транзакционность** операций с медицинскими записями
- **Валидируйте резервное копирование** критических данных
- **Проверяйте версионность** медицинских документов

### Безопасность API
- **Проверяйте авторизацию** для всех медицинских endpoints
- **Валидируйте входные данные** для предотвращения инъекций
- **Проверяйте rate limiting** для защиты от атак

### Соответствие медицинским стандартам
- **Проверяйте валидацию** медицинских кодов и классификаций
- **Валидируйте обязательные поля** в медицинских формах
- **Проверяйте соответствие** медицинским протоколам