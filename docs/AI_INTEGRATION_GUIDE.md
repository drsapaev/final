# ü§ñ AI Integration Guide

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∫–ª–∏–Ω–∏–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ –¥–ª—è –ø–æ–º–æ—â–∏ –≤—Ä–∞—á–∞–º –≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –∏ –∞–Ω–∞–ª–∏–∑–µ –¥–∞–Ω–Ω—ã—Ö.

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### 1. OpenAI (GPT-4)
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–∫–ª—é—á–∞—è –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –í—ã—Å–æ–∫–æ–µ
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è**: –°–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤, –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–∂–∏

### 2. Google Gemini
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–∫–ª—é—á–∞—è –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –í—ã—Å–æ–∫–æ–µ
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è**: –û–±—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 3. DeepSeek
- **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**: –¢–µ–∫—Å—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ (–±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –•–æ—Ä–æ—à–µ–µ
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è**: –ú–∞—Å—Å–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### Backend

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ API –∫–ª—é—á–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
# .env
OPENAI_API_KEY=sk-your-key
GEMINI_API_KEY=your-key
DEEPSEEK_API_KEY=your-key
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install openai google-generativeai httpx pillow
```

### Frontend

AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### 1. –ê–Ω–∞–ª–∏–∑ –∂–∞–ª–æ–± –ø–∞—Ü–∏–µ–Ω—Ç–∞
- **Endpoint**: `POST /api/v1/ai/complaint-to-plan`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:
  - –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∏–∞–≥–Ω–æ–∑—ã
  - –ü–ª–∞–Ω –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
  - –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∞–Ω–∞–ª–∏–∑—ã
  - –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
  - –¢—Ä–µ–≤–æ–∂–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º—ã

### 2. –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ú–ö–ë-10
- **Endpoint**: `POST /api/v1/ai/icd-suggest`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:
  - –°–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤ –ú–ö–ë-10
  - –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∫–æ–¥–∞
  - –ù–∞–∑–≤–∞–Ω–∏–µ –¥–∏–∞–≥–Ω–æ–∑–∞

### 3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤
- **Endpoint**: `POST /api/v1/ai/lab-interpret`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:
  - –û–±—â–µ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ
  - –û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –Ω–æ—Ä–º—ã
  - –í–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 4. –ê–Ω–∞–ª–∏–∑ –∫–æ–∂–∏
- **Endpoint**: `POST /api/v1/ai/skin-analyze`
- **–¢—Ä–µ–±—É–µ—Ç**: OpenAI –∏–ª–∏ Gemini
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:
  - –¢–∏–ø –∫–æ–∂–∏
  - –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Ö–æ–¥—É
  - –ü—Ä–æ—Ü–µ–¥—É—Ä—ã

### 5. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –≠–ö–ì
- **Endpoint**: `POST /api/v1/ai/ecg-interpret`
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç**:
  - –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ —Ä–∏—Ç–º–∞
  - –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
  - –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
  - –°—Ä–æ—á–Ω–æ—Å—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ UI

### –í –º–µ–¥–∫–∞—Ä—Ç–µ (EMRSystem)
```jsx
// –ö–Ω–æ–ø–∫–∞ AI –∞–Ω–∞–ª–∏–∑–∞ –∂–∞–ª–æ–±
<AIButton
  onClick={() => setShowAIAssistant(true)}
  loading={aiLoading}
  tooltip="AI –∞–Ω–∞–ª–∏–∑ –∂–∞–ª–æ–±"
/>

// –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ú–ö–ë-10
<AISuggestions
  suggestions={icd10Suggestions}
  type="icd10"
  onSelect={(item) => {
    handleFieldChange('icd10', item.code);
  }}
/>
```

### –í –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏
```jsx
// AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
<AIAssistant
  analysisType="lab"
  data={{
    results: labResults,
    patient_age: 35,
    patient_gender: "–ú"
  }}
  onResult={handleAIResult}
/>
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **–ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è**: –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –§–ò–û –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ –≤ AI
2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –¢–æ–ª—å–∫–æ –≤—Ä–∞—á–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI
3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ AI –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Ä–∞—á–∞

## –õ–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- OpenAI: 10,000 —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å
- Gemini: 30,000 —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å
- DeepSeek: 4,000 —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å
- –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: –¥–æ 4MB

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### Backend - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞ AI
```python
async def analyze_xray(self, image_data: bytes) -> Dict[str, Any]:
    """–ê–Ω–∞–ª–∏–∑ —Ä–µ–Ω—Ç–≥–µ–Ω–æ–≤—Å–∫–æ–≥–æ —Å–Ω–∏–º–∫–∞"""
    # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ –≤ base_provider.py
    pass
```

### Frontend - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```jsx
import { AIAssistant } from '../components/ai';

<AIAssistant
  analysisType="complaint"
  data={{ complaint: "–ì–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å, —Ç–æ—à–Ω–æ—Ç–∞" }}
  onResult={(result) => {
    console.log('AI —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
  }}
/>
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å AI:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend
3. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
